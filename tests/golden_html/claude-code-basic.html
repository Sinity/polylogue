
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>claude-code-golden</title>
    <style>
      :root {
        --bg: #ffffff;
        --fg: #222222;
        --accent: #2563eb;
        --border: #3b82f644;
      }
      * { box-sizing: border-box; }
      body {
        background: var(--bg);
        color: var(--fg);
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        margin: 0;
        line-height: 1.6;
      }
      header {
        position: sticky;
        top: 0;
        z-index: 10;
        backdrop-filter: blur(6px);
        background: color-mix(in srgb, var(--bg) 88%, transparent);
        border-bottom: 1px solid var(--border);
        padding: 0.75rem 1.5rem;
        display: flex;
        align-items: center;
        gap: 1rem;
      }
      main {
        max-width: 980px;
        margin: 0 auto;
        padding: 1.5rem;
      }
      h1 { margin: 0; font-size: 1.5rem; }
      a { color: var(--accent); }
      .pill {
        border: 1px solid var(--border);
        padding: 0.35rem 0.6rem;
        border-radius: 999px;
        font-size: 0.9rem;
      }
      .toolbar { display: flex; gap: 0.75rem; align-items: center; }
      .search-input {
        flex: 1;
        padding: 0.45rem 0.75rem;
        border-radius: 8px;
        border: 1px solid var(--border);
        background: color-mix(in srgb, var(--bg) 96%, #00000008);
        color: var(--fg);
      }
      .layout { display: grid; grid-template-columns: 260px 1fr; gap: 1.25rem; align-items: start; }
      .card {
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 1rem;
        background: color-mix(in srgb, var(--bg) 96%, #00000006);
      }
      .metadata table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 0.5rem;
      }
      .metadata th, .metadata td {
        border: 1px solid var(--border);
        padding: 0.35rem 0.5rem;
        text-align: left;
        font-size: 0.9rem;
      }
      .toc ul { list-style: none; padding-left: 0; margin: 0; }
      .toc li { margin: 0.2rem 0; }
      .toc a { text-decoration: none; }
      .attachments { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 0.75rem; }
      .attachment {
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 0.6rem 0.75rem;
        background: color-mix(in srgb, var(--bg) 94%, #00000008);
      }
      .content blockquote {
        border-left: 4px solid #3b82f6;
        padding-left: 1rem;
        margin-left: 0;
        background: #3b82f611;
      }
      details.callout {
        margin: 1rem 0;
        border-left: 4px solid #3b82f6;
        padding-left: 1rem;
        background: #3b82f611;
      }
      details.callout summary {
        cursor: pointer;
        font-weight: 600;
        list-style: none;
      }
      details.callout summary::-webkit-details-marker { display: none; }
      details.callout summary::before {
        content: 'â–¶';
        display: inline-block;
        margin-right: 0.5rem;
        transform: rotate(0deg);
        transition: transform 0.2s ease;
      }
      details.callout[open] summary::before { transform: rotate(90deg); }
      pre {
        background: #22222211;
        padding: 0.75rem;
        overflow-x: auto;
      }
      code { font-family: "JetBrains Mono", "Fira Code", monospace; }
      h2 { margin-top: 2rem; }
      .hidden { display: none !important; }
      .anchor-btn {
        margin-left: 0.4rem;
        font-size: 0.85rem;
        color: var(--accent);
        text-decoration: none;
        opacity: 0.7;
      }
      .anchor-btn:hover { opacity: 1; }
    </style>
  </head>
  <body>
    <header>
      <div class="pill">claude-code-golden</div>
      <input class="search-input" id="client-search" type="search" placeholder="Filter text (press / to focus)" />
      <div class="toolbar"><span class="pill" id="match-count"></span></div>
    </header>
    <main>
      <div class="layout">
        <div class="card toc">
          <h3>Contents</h3>
          <ul id="toc"></ul>
          
        </div>
        <div>
          <div class="card metadata">
            <table>
              <tbody>
                
                <tr>
                  <th>attachmentPolicy</th>
                  <td>{&#34;charThreshold&#34;: 4000, &#34;extractedCount&#34;: 0, &#34;lineThreshold&#34;: 40, &#34;previewLines&#34;: 5, &#34;routing&#34;: {&#34;routed&#34;: 0, &#34;skipped&#34;: 3}}</td>
                </tr>
                
                <tr>
                  <th>attachment_bytes</th>
                  <td>0</td>
                </tr>
                
                <tr>
                  <th>attachments</th>
                  <td>0</td>
                </tr>
                
                <tr>
                  <th>attachmentsDir</th>
                  <td>None</td>
                </tr>
                
                <tr>
                  <th>collapseThreshold</th>
                  <td>10</td>
                </tr>
                
                <tr>
                  <th>contentHash</th>
                  <td>c958013174df7a51a0e6a91df74991861f8f5742ca279b32661e54381235ba63</td>
                </tr>
                
                <tr>
                  <th>currentBranch</th>
                  <td>branch-000</td>
                </tr>
                
                <tr>
                  <th>dirty</th>
                  <td>False</td>
                </tr>
                
                <tr>
                  <th>html</th>
                  <td>False</td>
                </tr>
                
                <tr>
                  <th>htmlPath</th>
                  <td>None</td>
                </tr>
                
                <tr>
                  <th>lastImported</th>
                  <td>2000-01-01T00:00:00Z</td>
                </tr>
                
                <tr>
                  <th>lastUpdated</th>
                  <td>None</td>
                </tr>
                
                <tr>
                  <th>outputPath</th>
                  <td>&lt;path&gt;</td>
                </tr>
                
                <tr>
                  <th>polylogue</th>
                  <td>{&#34;contentHash&#34;: &#34;c958013174df7a51a0e6a91df74991861f8f5742ca279b32661e54381235ba63&#34;, &#34;conversationId&#34;: &#34;tests/fixtures/golden/claude_code/claude-code-golden.jsonl&#34;, &#34;lastUpdated&#34;: null, &#34;provider&#34;: &#34;claude-code&#34;, &#34;slug&#34;: &#34;claude-code-golden&#34;, &#34;title&#34;: &#34;claude-code-golden&#34;}</td>
                </tr>
                
                <tr>
                  <th>sessionFile</th>
                  <td>tests/fixtures/golden/claude_code/claude-code-golden.jsonl</td>
                </tr>
                
                <tr>
                  <th>slug</th>
                  <td>claude-code-golden</td>
                </tr>
                
                <tr>
                  <th>title</th>
                  <td>claude-code-golden</td>
                </tr>
                
                <tr>
                  <th>token_count</th>
                  <td>22</td>
                </tr>
                
                <tr>
                  <th>tokens</th>
                  <td>22</td>
                </tr>
                
                <tr>
                  <th>word_count</th>
                  <td>22</td>
                </tr>
                
                <tr>
                  <th>words</th>
                  <td>22</td>
                </tr>
                
                <tr>
                  <th>workspace</th>
                  <td>claude_code</td>
                </tr>
                
              </tbody>
            </table>
          </div>
          <div class="content" id="content"><h2 id="user">User</h2>
<p>Hello from Claude Code.</p>
<h2 id="model">Model</h2>
<p>Footnote: [7] ok.</p>
<h2 id="model">Model</h2>
<p>Tool call <code>bash</code></p>
<pre><code class="language-json">{
  &quot;cmd&quot;: &quot;echo hi&quot;
}
</code></pre>
<p>Result:
[2] tool output footnote</p>
</div>
        </div>
      </div>
    </main>
    <script>
      const tocEl = document.getElementById('toc');
      const headings = document.querySelectorAll('#content h1, #content h2, #content h3');
      headings.forEach(h => {
        if (!h.id) return;
        const anchor = document.createElement('a');
        anchor.href = `#${h.id}`;
        anchor.textContent = 'ðŸ”—';
        anchor.className = 'anchor-btn';
        anchor.title = 'Copy link';
        anchor.addEventListener('click', evt => {
          evt.preventDefault();
          const url = `${window.location.origin}${window.location.pathname}#${h.id}`;
          navigator.clipboard?.writeText(url).catch(() => {});
          window.location.hash = h.id;
        });
        h.appendChild(anchor);
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = `#${h.id}`;
        a.textContent = h.textContent;
        li.appendChild(a);
        tocEl.appendChild(li);
      });
      const searchInput = document.getElementById('client-search');
      const content = document.getElementById('content');
      const blocks = Array.from(content.querySelectorAll('p, li, blockquote, details'));
      const matchCount = document.getElementById('match-count');
      function applyFilter(term) {
        const q = term.trim().toLowerCase();
        let matches = 0;
        blocks.forEach(el => {
          const text = el.textContent.toLowerCase();
          const hit = q && text.includes(q);
          el.classList.toggle('hidden', q && !hit);
          if (hit) matches += 1;
        });
        matchCount.textContent = q ? `${matches} match(es)` : '';
      }
      searchInput.addEventListener('input', (e) => applyFilter(e.target.value));
      window.addEventListener('keydown', (e) => {
        if (e.key === '/' && document.activeElement !== searchInput) {
          e.preventDefault();
          searchInput.focus();
        }
      });

      // Add copy-link buttons for message anchors (msg-N)
      const msgAnchors = content.querySelectorAll('a[id^="msg-"]');
      msgAnchors.forEach(anchor => {
        const id = anchor.getAttribute('id');
        if (!id) return;
        const btn = document.createElement('a');
        btn.href = `#${id}`;
        btn.textContent = 'ðŸ”—';
        btn.className = 'anchor-btn';
        btn.title = 'Copy link to message';
        btn.addEventListener('click', evt => {
          evt.preventDefault();
          const url = `${window.location.origin}${window.location.pathname}#${id}`;
          navigator.clipboard?.writeText(url).catch(() => {});
          window.location.hash = id;
        });
        anchor.insertAdjacentElement('afterend', btn);
      });
    </script>
  </body>
</html>